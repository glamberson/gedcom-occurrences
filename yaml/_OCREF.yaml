%YAML 1.2
---
lang: en-US

type: structure

uri: https://gedcom.io/terms/v7/_OCREF

standard tag: _OCREF

specification:
  - Occurrence Reference
  - |
    An _OCREF structure creates a reference from an individual or family
    to an occurrence record (_OCUR). This allows people to indicate
    their participation in shared occurrences.
    
    The payload is a pointer to the _OCUR record. All participant-specific
    information (role, age, notes, sources) is stored here with the
    individual or family, following the container-only model.
    
    This design matches the GRAMPS EventRef pattern where the event
    contains only event data, and participation details are stored
    with the participant.

label: 'Occurrence Reference'

payload: "@<XREF:_OCUR>@"

substructures:
  "https://gedcom.io/terms/v7/ROLE": "{0:1}"
  "https://gedcom.io/terms/v7/AGE": "{0:1}"
  "https://gedcom.io/terms/v7/NOTE": "{0:M}"
  "https://gedcom.io/terms/v7/SNOTE": "{0:M}"
  "https://gedcom.io/terms/v7/SOUR": "{0:M}"
  "_ATTR": "{0:M}"  # For additional participant-specific attributes
  "_PRESENCE": "{0:1}"  # For partial participation (Present|Absent|Unknown)

superstructures:
  "https://gedcom.io/terms/v7/record-INDI": "{0:M}"
  "https://gedcom.io/terms/v7/record-FAM": "{0:M}"

contact: "https://github.com/glamberson/gedcom-occurrences"
...